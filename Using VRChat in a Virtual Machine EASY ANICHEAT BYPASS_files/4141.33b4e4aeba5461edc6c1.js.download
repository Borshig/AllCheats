"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4141],{84141:(e,t,s)=>{s.d(t,{Z:()=>H});var r=s(96234),n=s(59740),o=s(13980),a=s.n(o),c=s(2784),i=s(45728),u=(s(52277),s(73160),s(47933)),l=s(19545),d=s(72190),m=s(93677),p=s(82336),f=s(88643),g=function(e){var t=e.answered,s=e.comments,r=e.userVote,n=e.setUserVote,o=e.userId,a=e.discussUrl,i=e.permissions;return c.createElement("div",null,c.createElement("div",{className:f.Z["DiscussPost-metabox"]},c.createElement(d.Z,{className:"".concat(f.Z["DiscussPost-button"]," ").concat(r.hasVoted?f.Z["DiscussPost-button_voted"]:""),onClick:function(e){return e.preventDefault(),(0,p.Zl)({permissions:i,userVote:r,setUserVote:n,userId:o,discussUrl:a})},outline:!0,size:"md"},c.createElement("i",{className:"".concat(f.Z["DiscussPost-button_icon"]," icon-thumbs-up-2")})," ",r.voteCount||0),c.createElement(d.Z,{className:f.Z["DiscussPost-button"],outline:!0,size:"md"},c.createElement("i",{className:"".concat(f.Z["DiscussPost-button_icon"]," icon-discussions")})," ",(null==s?void 0:s.length)||0)),!!t&&c.createElement("div",{className:f.Z["DiscussPost-metabox_answered"]},c.createElement("span",{className:"".concat(f.Z.DiscussPost_icon," icon-check-circle")}),"ANSWERED"))},v=function(e){var t;return c.createElement(c.Fragment,null,null===(t=e.tags)||void 0===t?void 0:t.map((function(e,t){return c.createElement("span",{key:"tag-".concat(e,"-").concat(t),className:f.Z.DiscussPostActions_wrapper},c.createElement(d.Z,{className:f.Z.DiscussPostActions_button,kind:"secondary",outline:!0,size:"sm",to:"/discuss?tag=".concat(e)},e))})))},E=function(e){return c.createElement(c.Fragment,null,c.createElement("div",{className:f.Z["DiscussPost-abbrbody"]},e.body),c.createElement("div",{className:f.Z.DiscussPostActions},c.createElement(v,{tags:e.tags})))},b=function(e){var t=e.postUser.name,s=e.createdAt;return c.createElement(m.Z,{className:f.Z["DiscussPost-date"],prefix:"Posted by ".concat(t),time:s})},y=function(e){var t=e.baseUrl,s=e.post,r=e.userVote,n=e.setUserVote,o=s.effective_user,a=s.body,d=s.title,m=s.id,p=s.tags,v=s.solved,y=s.comments,Z=s.createdAt,D=l.Z.isClient,P=(0,c.useContext)(i.St),h=P.permissions,U=P._id,O="".concat(D?window.location.pathname:"".concat(t,"/discuss/").concat(s.id));return c.createElement(u.rU,{className:"".concat(f.Z.DiscussPost," ").concat(f.Z["DiscussPost-abbreviated"]),to:"/discuss/".concat(m)},c.createElement(g,{answered:v,comments:y,userVote:r,setUserVote:n,userId:U,discussUrl:O,permissions:h}),c.createElement("div",{className:f.Z["DiscussPost-content"]},c.createElement("h2",{className:f.Z["DiscussPost-title"]},d),c.createElement(E,{body:a,tags:p}),!!Z&&c.createElement(b,{postUser:o,createdAt:Z})))};y.propTypes={baseUrl:a().string,post:a().object,setUserVote:a().func,userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},g.propTypes={answered:a().bool,comments:a().array,discussUrl:a().string,permissions:a().array,setUserVote:a().func,userId:a().oneOfType([a().string,a().object]),userVote:a().shape({hasVoted:a().bool,voteCount:a().number})},E.propTypes={body:a().string,tags:a().array},b.propTypes={createdAt:a().string,postUser:a().shape({name:a().string})},v.propTypes={tags:a().array};const Z=y;s(74476),s(84879),s(10746),s(81541),s(66496);var D=s(56666),P=(s(37029),s(65389),s(842),s(4517)),h=s(82172),U=s(22650),O=s(19650),N=s(98821),A=s(87076),_=s(95369),j=s(90908),C=s(89368),w=s(11342),V=s(70603),k=s(96796),S=s(19849);function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function I(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach((function(t){(0,D.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var M=function(e){var t=e.userVote,s=e.setUserVote,r=e.discussUrl,n=e.permissions,o=e.setErrorMessage,a=e.userId;return c.createElement("div",{className:f.Z["DiscussPost-metabox"]},c.createElement(d.Z,{className:"".concat(f.Z["DiscussPost-button"]," ").concat(t.hasVoted?f.Z["DiscussPost-button_voted"]:""),onClick:function(e){return e.preventDefault(),(0,p.Zl)({permissions:n,setErrorMessage:o,userVote:t,setUserVote:s,userId:a,discussUrl:r})},outline:!0,size:"md"},c.createElement("span",{className:"".concat(f.Z["DiscussPost-button_icon"]," icon-thumbs-up-2")})," ",t.voteCount||0))},T=function(e){var t=e.isAdminUser,s=e.isLoggedIn,r=e.postUser,n=r.name,o=r.email,a=e.post.edited,i=e.createdAt,u=function(){return c.createElement(m.Z,{className:f.Z["DiscussPost-date"],icon:"icon-clock",suffix:"by ".concat(n),tag:"span",time:i})},l=function(){return c.createElement("span",{className:f.Z["DiscussPost-email"]},c.createElement("span",{className:"".concat(f.Z.icon," icon-lock1")}),c.createElement("span",null,o))};return c.createElement("div",{className:f.Z["DiscussPost-details"]},c.createElement(u,null),!!s&&!!t&&!!o&&c.createElement(l,null),!!a&&c.createElement("span",{className:f.Z["DiscussPost-edited"]},"(edited)"))},z=function(e){var t,s=e.discussUrl,r=e.isAdminUser,n=e.isLoggedIn,o=e.post,a=e.postData,i=e.setErrorMessage,u=e.setPostData,l=e.setIsEditing,m=e.user,g=n&&(null===(t=o.hub2user)||void 0===t?void 0:t.user.email)===m.email,v=(0,P.k6)(),E=(0,c.useRef)(),b=function(){return c.createElement(d.Z,{className:f.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return(0,p.CB)({discussUrl:s,postData:a,setErrorMessage:i,setPostData:u})},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(f.Z.DiscussPost_icon," ").concat(a.isFAQ?"icon-cross":"icon-plus1")}),a.isFAQ?"Remove from FAQ":"Add to FAQ")},y=function(){return c.createElement(d.Z,{className:f.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return l(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(f.Z.DiscussPost_icon," icon-edit-2")}),"Edit")},Z=function(){return c.createElement(d.Z,{className:f.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){E.current.toggle(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(f.Z.DiscussPost_icon," icon-trash1")}),"Delete")},D=function(){return c.createElement(A.ZP,{ref:E,size:"sm",target:"#delete-discussion-post-modal-target",verticalCenter:!0},c.createElement(_.Z,null,c.createElement(k.Z,{className:f.Z["DiscussPost-delete_text"],level:6},"Are you sure you want to delete this post?")),c.createElement(j.Z,{justify:"center"},c.createElement(d.Z,{kind:"secondary",onClick:function(){E.current.toggle(!1)}},"Cancel"),c.createElement(d.Z,{kind:"secondary",onClick:function(){(0,p.fn)({url:s,redirect:function(){return v.push("/discuss")},setErrorMessage:i}),E.current.toggle(!1)}},"Delete")))};return c.createElement("div",null,c.createElement(w.Z,{className:f.Z["DiscussPost-fullbody"],opts:S.o},a.body),c.createElement("div",{className:f.Z.DiscussPostActions},c.createElement(L,{discussUrl:s,postData:a,setPostData:u,isAdminUser:r,setErrorMessage:i}),!!r&&c.createElement(b,null),!(!r&&!g)&&c.createElement(y,null),!(!r&&!g)&&c.createElement(c.Fragment,null,c.createElement(Z,null),c.createElement(D,null))))},F=function(e){var t=e.discussUrl,s=e.setPostData,n=e.setIsEditing,o=e.setErrorMessage,a=e.postData.body,u=(0,c.useRef)(),l=(0,c.useContext)(i.xI).flags.newEditor,m=(0,c.useContext)(i.cr),g=(0,c.useContext)(i.E_).domainFull,v=(0,c.useState)(),E=(0,r.Z)(v,2),b=E[0],y=E[1],Z=(0,c.useCallback)((function(e,t){return y(t)}),[]);return c.createElement(c.Fragment,null,l?c.createElement(U.Z,{className:f.Z.DiscussEditorWrapper,kind:"rule"},c.createElement(N.Z,{basic:!0,className:f.Z["DiscussPost-fullbody"],doc:a,domainFull:g,imageUpload:!1,onChange:Z,projectBaseUrl:m})):c.createElement(V.Z,{ref:u,className:f.Z["DiscussPost-fullbody"],value:a}),c.createElement("div",{className:f.Z["DiscussPost-edit"]},c.createElement(d.Z,{className:"".concat(f.Z["Discuss-question_button"]," ").concat(f.Z["DiscussPost-edit_button"]),onClick:function(){var e,r,a=l?(null==b?void 0:b.toString())||"":null==u||null===(e=u.current)||void 0===e||null===(r=e.state)||void 0===r?void 0:r.value;return(0,p.He)({url:t,editedBody:a,setErrorMessage:o,updateSuccess:function(){s((function(e){return I(I({},e),{},{body:a})})),n(!1)}})},size:"sm"},"Save"),c.createElement(d.Z,{kind:"secondary",onClick:function(){return n(!1)},outline:!0,size:"sm"},"Cancel")))},L=function(e){var t,s=e.discussUrl,n=e.postData,o=e.setPostData,a=e.isAdminUser,i=e.setErrorMessage,u=(0,c.useState)(""),l=(0,r.Z)(u,2),m=l[0],g=l[1],v=(0,c.useState)(!1),E=(0,r.Z)(v,2),b=E[0],y=E[1],Z=function(){return c.createElement(d.Z,{className:f.Z["DiscussPostActions-action"],kind:"secondary",onClick:function(){return y(!0)},outline:!0,size:"sm"},c.createElement("i",{className:"".concat(f.Z.DiscussPost_icon," icon-plus1")}),"Tag")};return c.createElement(c.Fragment,null,null===(t=n.tags)||void 0===t?void 0:t.map((function(e,t){return c.createElement("span",{key:"tag-".concat(e,"-").concat(t),className:f.Z.DiscussPostActions_wrapper},!!a&&c.createElement("span",{className:"".concat(f.Z.DiscussPostActions_delete," icon-cross"),onClick:function(){return(0,p.DI)({tag:e,discussUrl:s,setErrorMessage:i,setPostData:o,postData:n})},onKeyDown:function(t){return(0,p.DI)({e:t,tag:e,discussUrl:s,setErrorMessage:i,setPostData:o,postData:n})},role:"button",tabIndex:0}),c.createElement(d.Z,{className:f.Z.DiscussPostActions_button,href:"/discuss?tag=".concat(e),kind:"secondary",outline:!0,size:"sm"},e))})),!!a&&(b?c.createElement(O.Z,{autoFocus:!0,className:f.Z.DiscussPostActions_button,onBlur:function(){return y(!1)},onChange:function(e){return g(e.target.value)},onKeyUp:function(e){return(0,p.u7)({e,discussUrl:s,newTag:m,setNewTag:g,setErrorMessage:i,setIsAddingTag:y,setPostData:o,postData:n})},placeholder:"Enter Tag",value:m}):c.createElement(Z,null)))},B=function(e){var t=e.baseUrl,s=e.post,n=e.userVote,o=e.setUserVote,a=s.effective_user,u=s.body,d=s.title,m=s.id,p=s.tags,g=s.isFAQ,v=s.createdAt,E=l.Z.isClient,b=(0,c.useContext)(i.St),y=b.permissions,Z=b._id,D=b.user,P=(0,h.Z)(),U=P.isLoggedIn,O=P.isAdminUser,N=(0,c.useState)({body:u,isFAQ:g,tags:p}),A=(0,r.Z)(N,2),_=A[0],j=A[1],w=(0,c.useState)(!1),V=(0,r.Z)(w,2),k=V[0],S=V[1],x=(0,c.useState)(null),I=(0,r.Z)(x,2),L=I[0],B=I[1];(0,c.useEffect)((function(){var e,t,s=(null==L||null===(e=L.errors)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.message)||(null==L?void 0:L.message);return s?(0,C.h4)(c.createElement(C.lt,{color:"red"},s)):void 0}),[L]);var Q="".concat(E?window.location.pathname:"".concat(t,"/discuss/").concat(m));return c.createElement("div",{className:f.Z.DiscussPost},c.createElement(M,{userVote:n,setUserVote:o,discussUrl:Q,permissions:y,setErrorMessage:B,userId:Z}),c.createElement("div",{className:f.Z["DiscussPost-content"]},c.createElement("h2",{className:f.Z["DiscussPost-title"]},d),!!v&&c.createElement(T,{isAdminUser:O,isLoggedIn:U,postUser:a,post:s,createdAt:v}),k?c.createElement(F,{discussUrl:Q,setPostData:j,setIsEditing:S,postData:_,setErrorMessage:B}):c.createElement(z,{discussUrl:Q,isAdminUser:O,isLoggedIn:U,post:s,postData:_,setPostData:j,setIsEditing:S,user:D,setErrorMessage:B})),c.createElement("div",{className:"ModalWrapper",id:"delete-discussion-post-modal-target"}))};B.propTypes={baseUrl:a().string,post:a().object,setUserVote:a().func,userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},M.propTypes={discussUrl:a().string,permissions:a().array,setErrorMessage:a().func,setUserVote:a().func,userId:a().oneOfType([a().string,a().object]),userVote:a().shape({hasVoted:a().bool,voteCount:a().number,voters:a().array})},z.propTypes={discussUrl:a().string,isAdminUser:a().bool,isLoggedIn:a().bool,post:a().object,postData:a().shape({body:a().string,isFAQ:a().bool}),setErrorMessage:a().func,setIsEditing:a().func,setPostData:a().func,user:a().object},F.propTypes={discussUrl:a().string,postData:a().shape({body:a().string}),setErrorMessage:a().func,setIsEditing:a().func,setPostData:a().func},T.propTypes={createdAt:a().oneOfType([a().string,a().instanceOf(Date)]),isAdminUser:a().bool,isLoggedIn:a().bool,post:a().shape({edited:a().bool}),postUser:a().shape({email:a().string,name:a().string})},L.propTypes={discussUrl:a().string,isAdminUser:a().bool,postData:a().shape({tags:a().array}),setErrorMessage:a().func,setPostData:a().func};const Q=B;var R=["hub2voters"],$=function(e){var t=e.post,s=e.excerpt,o=t.hub2voters,a=(0,n.Z)(t,R),u=(0,c.useContext)(i.St)._id,l=(0,c.useContext)(i.cr);l="/"===l?"":l;var d=(0,c.useState)({voteCount:null==a?void 0:a.vote_count,hasVoted:-1!==o.indexOf(u),voters:o}),m=(0,r.Z)(d,2),p=m[0],f=m[1];return s?c.createElement(Z,{baseUrl:l,post:t,userVote:p,setUserVote:f}):c.createElement(Q,{baseUrl:l,post:t,userVote:p,setUserVote:f})};$.propTypes={excerpt:a().bool,post:a().object},$.defaultProps={excerpt:!1};const H=$},19849:(e,t,s)=>{s.d(t,{o:()=>r});var r={safeMode:!0}},93677:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(82236),n=s(26130),o=s(29260),a=s(45756),c=s(2784),i=s(21968),u=s(43796);const l=c.memo((function(e){var t=e.absoluteDates,s=void 0!==t&&t,l=e.icon,d=e.time,m=e.prefix,p=e.suffix,f=e.tag,g=void 0===f?"div":f,v=e.tooltip,E=void 0!==v&&v,b=e.className;if(!d)return null;var y,Z=(0,i.Z)(d),D=new Date;s&&(Z=(0,i.Z)(Z.toDateString()),D=(0,i.Z)(D.toDateString()),(0,r.Z)(Z)?y="Today":(0,n.Z)(Z)&&(y="1 day ago")),y||(y=(0,o.Z)(Z,D,{addSuffix:!0}));var P=c.createElement(g,{className:"DateLine ".concat(b||""),suppressHydrationWarning:!0},!!l&&c.createElement("i",{className:l}),m," ","".concat(y)," ",p);return E?c.createElement(u.Z,{content:(0,a.Z)(Z,s?"PPPP":"PPpp")},P):P}))},11342:(e,t,s)=>{s.d(t,{Z:()=>h,u:()=>P});var r=s(51582),n=s(2784),o=(s(74476),s(84879),s(10746),s(81541),s(66496),s(56666)),a=s(96234),c=s(59740),i=s(13980),u=s.n(i),l=(s(1),s(98957),s(80061),s(67903)),d=s(45728),m=["docs","reference","changelog","recipes","page","discuss"];var p=s(46630),f=["attributes","children","href"];function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach((function(t){(0,o.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var E=function(e){var t=e.attributes,s=void 0===t?{target:"_self"}:t,r=e.children,o=e.href,i=(0,c.Z)(e,f),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,n.useContext)(d.xI).fullBaseUrl,s=(0,n.useContext)(d.uS).version;if(!e.match(/^(doc|ref|blog|changelog|page):/)){try{var r=new URL(t).host,o=(new d.ej).parse(e),a=o.hash,c=o.host,i=o.pathname,u=o.search,p=o.slugs,f=p[0]&&m.includes(p[0]);if((c===r||null===c)&&f){var g,v=null===(g=i.match(/^\/v([\w\d\-.]+)\//))||void 0===g?void 0:g[1];if(v===s||!v){var E=i;return v&&(E=i.substring(v.length+2)),[{to:{hash:a,pathname:E,search:u}},l.fO]}return[{href:i},"a"]}}catch(e){}return[{href:e},"a"]}var b=e.match(/^doc:([-_a-zA-Z0-9#]*)$/);if(b)return[{to:"/docs/".concat(b[1])},l.fO];var y=e.match(/^ref:([-_a-zA-Z0-9#]*)$/);if(y){var Z=y[1];return[{to:"/reference/".concat(Z)},l.fO]}var D=e.match(/^blog:([-_a-zA-Z0-9#]*)$/),P=e.match(/^changelog:([-_a-zA-Z0-9#]*)$/),h=D||P;if(h)return[{to:"/changelog/".concat(h[1])},l.fO];var U=e.match(/^page:([-_a-zA-Z0-9#]*)$/);return U?[{to:"/page/".concat(U[1])},l.fO]:[{href:e},"a"]}(o),p=(0,a.Z)(u,2),g=p[0],E=p[1];return n.createElement(E,v(v(v(v({},s),g),i),{},{children:r}))};E.propTypes={attributes:u().object,href:u().string};const b={a:E,"tutorial-tile":p.Z};var y=function(){return y=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},y.apply(this,arguments)},Z=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]])}return s},D=function(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var r,n,o=s.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(s=o.return)&&s.call(o)}finally{if(n)throw n.error}}return a};function P(e,t,s){void 0===t&&(t=!0);var o=(0,n.useMemo)((function(){return s}),[JSON.stringify(s)]),a=D((0,n.useMemo)((function(){return r.setup(e||"",o)}),[e,o]),2),c=a[0],i=a[1],u=(0,n.useMemo)((function(){return r.reactProcessor(i,b).parse(c)}),[c,i]),l=(0,n.useMemo)((function(){return r.react(u,i,b)}),[u,i]),d=(0,n.useMemo)((function(){return[l,r.reactTOC(u,i)]}),[u,l,i]);return t?d:l}const h=n.memo((function(e){var t=e.body,s=e.children,r=e.className,o=e.opts,a=void 0===o?{}:o,c=e.Tag,i=void 0===c?"div":c,u=Z(e,["body","children","className","opts","Tag"]),l=P(t||s,!1,a),d=[!1!==r&&"markdown-body",r||""];return n.createElement(i,y({},u,{className:d.filter((function(e){return e})).join(" "),"data-testid":"RDMD"}),l)}))}}]);